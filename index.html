<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/2a89dcfd9c.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js"></script>
</head>
<body>
    <img class="wave" src="images/wave.png" alt="">
    <div class="container">
        <div class="img">
            <img src="images/bg.svg" alt="">
        </div>
        <div class="login-container">
            <form onsubmit="signInWithEmailAndPassword(event)">
                <img class="avatar" src="images/avatar.svg" alt="">
                <h2>Welcome</h2>
                <div class="input-div one focus">
                    <div class="i">
                        <i class="fas fa-user"></i>
                    </div>
                    <div>
                        <h5>Username</h5>
                        <input class="input" type="text" id="username">
                    </div>
                </div>
                <div class="input-div two">
                    <div class="i">
                        <i class="fas fa-lock"></i>
                    </div>
                    <div>
                        <h5>Password</h5>
                        <input class="input" type="password" id="password">
                    </div>
                </div>
                <a href="#">Forgot Password</a>
                <div id="error"></div>
                <input type="submit" class="btn" value="Login">
            </form>
        </div>
    </div>
    <script type="text/javascript">
        const firebaseConfig = {
            apiKey: "AIzaSyBayvHDvPysDzgOD-3-Q5OrBylK2YuClLk",
            authDomain: "login-system-21a63.firebaseapp.com",
            projectId: "login-system-21a63",
            appId: "1:130246584109:web:1f68497cc23f7f1e80d5a4"
        };

        firebase.initializeApp(firebaseConfig);

        function signInWithEmailAndPassword(event) {
            event.preventDefault();

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            firebase
                .auth()
                .signInWithEmailAndPassword(username, password)
                .then((userCredential) => {
                    // Handle successful sign-in
                    const user = userCredential.user;
                    // Redirect to the dashboard or desired page
                    window.location.href = 'armancollab.github.io';
                })
                .catch((error) => {
                    // Handle sign-in error
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // Display error message to the user
                    document.getElementById('error').textContent = errorMessage;
                });
        }
    </script>
</body>
</html>
